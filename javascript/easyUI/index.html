<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Complex DataGrid - jQuery EasyUI Demo</title>
	<link rel="stylesheet" type="text/css" href="./themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="./themes/icon.css">
	<link rel="stylesheet" type="text/css" href="./themes/demo.css">
	<script type="text/javascript" src="./jquery-1.8.0.min.js"></script>
	<script type="text/javascript" src="./jquery.easyui.min.js"></script>
	<script>
		$(function(){
			$('#vms').datagrid({
    				url:'vms.json',
				title:'云主机信息表',
				nowrap: false,
				autoRowHeight: false,
				striped: true,
				collapsible:true,
				url:'vms.json',
 				remoteSort: false,
				sortName: 'created',
				sortOrder: 'desc',
				idField:'instancename',
				singleSelect: true,
				rownumbers:true,
				rowStyler:function(index,row){
					if (!row.publicip && !row.ip){
						return 'background-color:red;';
					}
				},
				frozenColumns:[[
			                {field:'ck',checkbox:true},
			                {field:'instancename',title:'实例名称',width:100,sortable:true}
				]],
				columns:[
					[
			                	{field:'created',title:'创建时间',width:200,sortable:true, rowspan:2},
			                	{field:'state',title:'状态',width:100,sortable:true, rowspan:2,
							styler:function(value,row,index){
							if (value == 'Stopped'){
								return 'background-color:#ffee00;color:red;';
							}
						}
						},
				                {field:'account',title:'项目账号',width:100,sortable:true, rowspan:2},
						{title:'名称',colspan:2},
						{title:'位置',colspan:2},
						{title:'计算方案',colspan:2},
						{title:'网络方案',colspan:2},
						{field:'haenable',title:'高可用',width:100,align:'center', rowspan:2},
					],
					[
					        {field:'name',title:'名称',width:100,sortable:true},
					        {field:'displayname',title:'显示名称',width:100,sortable:true},
					        {field:'zonename',title:'区域',width:100,sortable:true},
					        {field:'hostname',title:'宿主机',width:150,sortable:true},
					        {field:'cpunumber',title:'CPU数量',width:80,sortable:true},
					        {field:'memory',title:'内存大小(MB)',width:100,sortable:true},
					        {field:'publicip',title:'公用IP',width:150,sortable:true},
					        {field:'ip',title:'直接IP',width:150,sortable:true}
					]
				]
			});
		});
	</script>
</head>
<body>
	<table id="vms" style="height:600px"></table>
	
</body>
</html>
